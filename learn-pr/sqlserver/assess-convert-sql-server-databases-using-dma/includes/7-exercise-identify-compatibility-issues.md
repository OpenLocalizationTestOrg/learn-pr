Suppose you're a database administrator for a retail organization and you need to upgrade several CRM databases to SQL Server 2017. The source databases include versions from SQL Server 2008R2 through to SQL Server 2016. You're going to use the **Microsoft Data Migration Assistant (DMA)** to first check the compatibility of these older databases before upgrading to SQL Server 2017. 

In this exercise, you will run the DMA compatibility and performance assessments on a SQL Server 2008 database, and view the results for a SQL Server 2017 target.

## Start the DMA

If you logged out of the VM, start this exercise by logging on and starting the DMA:

1. Sign into the VM with your Microsoft account.
1. Click **Commands**, click **CTRL+ALT+DEL**, and then login with the **Administrator** password **`Pa55w.rd`**.
1. Close the **Server Manager** window.
1. On the **Desktop**, double-click **Microsoft Data Migration Assistant**.
1. If the **A new version is available** dialog box appears, click **Cancel**.

## Run the compatibility assessment

Continue by running the DMA and using it to assess the Adventure Works database:

1. On the left, click the **menu** icon to display the fly-out, and then click **+ New**.
1. In the **New** fly-out, leave the **Project type** as **Assessment**, and in the **Project name** box, type **`AdventureWorks 2008-2017`**.
1. Leave the **Source server type** as **SQL Server**, in the **Target server type** list, click **SQL Server**, and then click **Create**.
1. On the **Options** tab, ensure the **Select target version** list is set to **SQL Server 2017 on Windows**.
1. Select the **New features' recommendation** check box, and then click **Next**.
1. On the **Connect to a server** flyout, in the **Server name** box, type **`localhost`**.
1. Leave the **Authentication type** as **Windows Authentication**, clear the **Encrypt connection** check box, and then click **Connect**.
1. In the **Add sources** flyout, select the **AdventureWorks** check box, and then click **Add**.
1. On the **Select sources** tab, click **Start Assessment**.

On the **Review results** tab, when the assessment completes, the results are displayed.

## Review the assessment results

Now you can examine the recommendations generated by the DMA:

1. On the **Compatibility 140 (2)** tab, notice that the **Behavior changes** tab is highlighted, and lists two issues for review.
1. Under **Issue details**, read the **Recommendation** text.
1. On the right-hand side of the tab, look at the **Impacted objects** list.
1. Click the row containing **HumanResources**. Note the **Object details**.
1. Click the rows below, and note the **Object details** changes.
1. Under **Behavior changes**, click **SERVERPROPERTY('LCID') result...**. Read the **Impact** and **Recommendation** text. Notice under **Impacted objects** that the affected stored procedure **dbo.uspSearchCandidateResumes** is listed.

## Export the assessment results

To export the results into a flexible file format, follow these steps:

1. On the **Review results** tab, at the bottom of the page, click **Export report**.
1. In the **Save assessment report** dialog box, change the location to the **Desktop**.
1. In the **File name** box, type **`AdventureWorks 2008-2017`**.
1. In the **Save as type** list, click **CSV Files (*.csv)**, and then click **Save**.
1. Minimize the **Data Migration Assistant** window, and on the **Desktop**, double-click the **AdventureWorks 2008-2017.csv** file.
1. In the **How do you want to open this file?** dialog box, click **Notepad**, and then click **OK**.
1. Scroll through the list of issues and recommendations to view the full results from the assessment. When you are finished, close Notepad.

## Summary

Here, you ran the Microsoft Data Migration Assistant compatibility and recommendations assessments against a SQL Server 2008 database. The results showed there are a number of compatibility issues to be fixed prior to upgrading, along with some benefits to be gained by using new features in SQL Server 2017.